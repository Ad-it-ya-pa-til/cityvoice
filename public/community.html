<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Community - CityVoice</title>
  <link rel="stylesheet" href="/index.css">
  <link rel="stylesheet" href="/community.css">
  <script src="/darkmode.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="community-container">
    <!-- Community Header -->
    <div class="community-header">
      <h1>Community</h1>
      <p>Connect, share, and grow together</p>
    </div>

    <!-- Search Section -->
    <div class="search-section">
      <div class="search-bar">
        <input type="text" class="search-input" id="search-input" placeholder="Search posts or members...">
        <button class="search-btn" id="search-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          Search
        </button>
      </div>
    </div>

    <!-- Main Layout -->
    <div class="community-layout">
      <!-- Main Content -->
      <div class="main-content">
        <!-- Create Post Section -->
        <div class="create-post">
          <div class="create-post-header">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 48 48'%3E%3Ccircle cx='24' cy='24' r='24' fill='%230ea5e9'/%3E%3Cpath d='M24 22c3.314 0 6-2.686 6-6s-2.686-6-6-6-6 2.686-6 6 2.686 6 6 6zm0 3c-5 0-15 2.5-15 7.5V36h30v-3.5C39 27.5 29 25 24 25z' fill='white'/%3E%3C/svg%3E" alt="User" class="user-avatar">
            <textarea class="post-textarea" id="post-textarea" placeholder="Share your thoughts, ask questions, or start a discussion..."></textarea>
          </div>
          <div class="post-actions">
            <div class="post-options">
              <div class="post-option">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                  <circle cx="8.5" cy="8.5" r="1.5"></circle>
                  <polyline points="21 15 16 10 5 21"></polyline>
                </svg>
                <span>Photo</span>
              </div>
              <div class="post-option">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                </svg>
                <span>Tag</span>
              </div>
              <div class="post-option">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
              </svg>
                <span>Document</span>
              </div>
            </div>
            <button class="post-btn" id="post-btn">Post</button>
          </div>
        </div>

        <!-- Posts Feed -->
        <div class="posts-feed" id="posts-feed">
          <!-- Sample Post 1 -->
          <div class="post-card">
            <div class="post-header">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%2348bb78'/%3E%3Cpath d='M20 18.333c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zm0 2.5c-4.167 0-12.5 2.083-12.5 6.25V30h25v-2.917c0-4.167-8.333-6.25-12.5-6.25z' fill='white'/%3E%3C/svg%3E" alt="Sarah Chen" class="post-avatar">
              <div class="post-info">
                <div class="post-author">Sarah Chen</div>
                <div class="post-time">2 hours ago</div>
              </div>
            </div>
            <div class="post-content">
              Just finished organizing the neighborhood cleanup drive! We collected over 50 bags of recyclables. Thanks to everyone who participated! üå±‚ôªÔ∏è
            </div>
            <img src="https://images.unsplash.com/photo-1593115057324-e3748a55e00a?w=600&h=300&fit=crop" alt="Community Cleanup" class="post-image">
            <div class="post-footer">
              <div class="post-stats">
                <div class="post-stat liked">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                  </svg>
                  <span>42</span>
                </div>
                <div class="post-stat">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                  </svg>
                  <span>8</span>
                </div>
                <div class="post-stat">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="18" cy="5" r="3"></circle>
                    <circle cx="6" cy="12" r="3"></circle>
                    <circle cx="18" cy="19" r="3"></circle>
                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                  </svg>
                  <span>12</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Sample Post 2 -->
          <div class="post-card">
            <div class="post-header">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%23f59e0b'/%3E%3Cpath d='M20 18.333c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zm0 2.5c-4.167 0-12.5 2.083-12.5 6.25V30h25v-2.917c0-4.167-8.333-6.25-12.5-6.25z' fill='white'/%3E%3C/svg%3E" alt="Mike Johnson" class="post-avatar">
              <div class="post-info">
                <div class="post-author">Mike Johnson</div>
                <div class="post-time">5 hours ago</div>
              </div>
            </div>
            <div class="post-content">
              Has anyone noticed the broken streetlight on Oak Street? I've reported it twice but it's still not fixed. Any suggestions on how to get this resolved faster? üö¶
            </div>
            <div class="post-footer">
              <div class="post-stats">
                <div class="post-stat">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                  </svg>
                  <span>15</span>
                </div>
                <div class="post-stat">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                  </svg>
                  <span>23</span>
                </div>
                <div class="post-stat">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="18" cy="5" r="3"></circle>
                    <circle cx="6" cy="12" r="3"></circle>
                    <circle cx="18" cy="19" r="3"></circle>
                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                  </svg>
                  <span>5</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Sample Post 3 -->
          <div class="post-card">
            <div class="post-header">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%238b5cf6'/%3E%3Cpath d='M20 18.333c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zm0 2.5c-4.167 0-12.5 2.083-12.5 6.25V30h25v-2.917c0-4.167-8.333-6.25-12.5-6.25z' fill='white'/%3E%3C/svg%3E" alt="Emily Davis" class="post-avatar">
              <div class="post-info">
                <div class="post-author">Emily Davis</div>
                <div class="post-time">1 day ago</div>
              </div>
            </div>
            <div class="post-content">
              Great news! The city council approved our proposal for a new community garden. We're looking for volunteers to help with planning and planting. Join us this Saturday at 10 AM! üåªüåø
            </div>
            <div class="post-footer">
              <div class="post-stats">
                <div class="post-stat">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                  </svg>
                  <span>67</span>
                </div>
                <div class="post-stat">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                  </svg>
                  <span>14</span>
                </div>
                <div class="post-stat">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="18" cy="5" r="3"></circle>
                    <circle cx="6" cy="12" r="3"></circle>
                    <circle cx="18" cy="19" r="3"></circle>
                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                  </svg>
                  <span>28</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="sidebar">
        <!-- Top Contributors -->
        <div class="sidebar-section">
          <h3 class="sidebar-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
            Top Contributors
          </h3>
          <div class="contributor-list">
            <div class="contributor">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%2348bb78'/%3E%3Cpath d='M16 14.667c2.209 0 4-1.791 4-4s-1.791-4-4-4-4 1.791-4 4 1.791 4 4 4zm0 2c-3.333 0-10 1.667-10 5V24h20v-2.333c0-3.333-6.667-5-10-5z' fill='white'/%3E%3C/svg%3E" alt="Sarah Chen" class="contributor-avatar">
              <div class="contributor-info">
                <div class="contributor-name">Sarah Chen</div>
                <div class="contributor-badge">üèÜ Top Contributor</div>
              </div>
            </div>
            <div class="contributor">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%238b5cf6'/%3E%3Cpath d='M16 14.667c2.209 0 4-1.791 4-4s-1.791-4-4-4-4 1.791-4 4 1.791 4 4 4zm0 2c-3.333 0-10 1.667-10 5V24h20v-2.333c0-3.333-6.667-5-10-5z' fill='white'/%3E%3C/svg%3E" alt="Emily Davis" class="contributor-avatar">
              <div class="contributor-info">
                <div class="contributor-name">Emily Davis</div>
                <div class="contributor-badge">‚≠ê Community Leader</div>
              </div>
            </div>
            <div class="contributor">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%23f59e0b'/%3E%3Cpath d='M16 14.667c2.209 0 4-1.791 4-4s-1.791-4-4-4-4 1.791-4 4 1.791 4 4 4zm0 2c-3.333 0-10 1.667-10 5V24h20v-2.333c0-3.333-6.667-5-10-5z' fill='white'/%3E%3C/svg%3E" alt="Mike Johnson" class="contributor-avatar">
              <div class="contributor-info">
                <div class="contributor-name">Mike Johnson</div>
                <div class="contributor-badge">üåü Active Member</div>
              </div>
            </div>
            <div class="contributor">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%230ea5e9'/%3E%3Cpath d='M16 14.667c2.209 0 4-1.791 4-4s-1.791-4-4-4-4 1.791-4 4 1.791 4 4 4zm0 2c-3.333 0-10 1.667-10 5V24h20v-2.333c0-3.333-6.667-5-10-5z' fill='white'/%3E%3C/svg%3E" alt="Alex Rivera" class="contributor-avatar">
              <div class="contributor-info">
                <div class="contributor-name">Alex Rivera</div>
                <div class="contributor-badge">üöÄ Rising Star</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Trending Topics -->
        <div class="sidebar-section">
          <h3 class="sidebar-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="7 10 12 15 17 10"></polyline>
              <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            Trending Topics
          </h3>
          <div class="topic-list">
            <div class="topic-tag">#CommunityCleanup</div>
            <div class="topic-tag">#StreetLights</div>
            <div class="topic-tag">#NeighborhoodWatch</div>
            <div class="topic-tag">#GreenSpaces</div>
            <div class="topic-tag">#LocalEvents</div>
            <div class="topic-tag">#PublicSafety</div>
            <div class="topic-tag">#Infrastructure</div>
            <div class="topic-tag">#Volunteer</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
      <div class="nav-items">
        <a href="/" class="nav-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
          <span>Home</span>
        </a>
        <a href="/community.html" class="nav-item active">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
          <span>Community</span>
        </a>
        <div class="nav-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
          </svg>
          <span>Messages</span>
        </div>
        <a href="/profile.html" class="nav-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <span>Profile</span>
        </a>
      </div>
    </div>
  </div>

  <script>
    const storage = {
      get token() { return localStorage.getItem('cv_token'); }
    };

    // Redirect to auth if not logged in
    if (!storage.token) {
      window.location.href = '/auth.html';
    }

    // Post creation
    const postTextarea = document.getElementById('post-textarea');
    const postBtn = document.getElementById('post-btn');
    const postsFeed = document.getElementById('posts-feed');

    postBtn.addEventListener('click', () => {
      const content = postTextarea.value.trim();
      if (!content) {
        showToast('Please write something before posting', 'error');
        return;
      }

      // Create new post element
      const newPost = document.createElement('div');
      newPost.className = 'post-card';
      newPost.innerHTML = `
        <div class="post-header">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%230ea5e9'/%3E%3Cpath d='M20 18.333c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zm0 2.5c-4.167 0-12.5 2.083-12.5 6.25V30h25v-2.917c0-4.167-8.333-6.25-12.5-6.25z' fill='white'/%3E%3C/svg%3E" alt="You" class="post-avatar">
          <div class="post-info">
            <div class="post-author">You</div>
            <div class="post-time">Just now</div>
          </div>
        </div>
        <div class="post-content">${content}</div>
        <div class="post-footer">
          <div class="post-stats">
            <div class="post-stat">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
              </svg>
              <span>0</span>
            </div>
            <div class="post-stat">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
              </svg>
              <span>0</span>
            </div>
            <div class="post-stat">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="18" cy="5" r="3"></circle>
                <circle cx="6" cy="12" r="3"></circle>
                <circle cx="18" cy="19" r="3"></circle>
                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
              </svg>
              <span>0</span>
            </div>
          </div>
        </div>
      `;

      // Add to top of feed
      postsFeed.insertBefore(newPost, postsFeed.firstChild);
      
      // Clear textarea
      postTextarea.value = '';
      
      // Show success message
      showToast('Post published successfully!', 'success');
    });

    // Like functionality
    document.addEventListener('click', (e) => {
      if (e.target.closest('.post-stat')) {
        const stat = e.target.closest('.post-stat');
        if (stat.querySelector('path[d*="M20.84 4.61"]')) { // Heart icon
          stat.classList.toggle('liked');
          const countSpan = stat.querySelector('span');
          let count = parseInt(countSpan.textContent);
          countSpan.textContent = stat.classList.contains('liked') ? count + 1 : count - 1;
        }
      }
    });

    // Search functionality
    const searchInput = document.getElementById('search-input');
    const searchBtn = document.getElementById('search-btn');

    searchBtn.addEventListener('click', () => {
      const searchTerm = searchInput.value.trim();
      if (searchTerm) {
        showToast(`Searching for: ${searchTerm}`, 'success');
        // In a real app, this would filter posts
      }
    });

    searchInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        searchBtn.click();
      }
    });

    // Topic tag clicks
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('topic-tag')) {
        const topic = e.target.textContent;
        searchInput.value = topic;
        showToast(`Filtering by ${topic}`, 'success');
      }
    });

    // Toast notification
    function showToast(message, type = 'success') {
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.textContent = message;
      document.body.appendChild(toast);

      setTimeout(() => {
        toast.remove();
      }, 3000);
    }
  </script>
</body>
</html>
